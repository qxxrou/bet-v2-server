
model game_type {
  id Int @id @default(autoincrement())
  type String @unique

  games game[]
  game_products game_product[]
}

model game_product {
  provider_id Int @id // 提供商的唯一标识
  provider String // 提供商的名称
  currency String // 货币代码
  status String // 产品状态
  product_id Int // 产品的唯一标识
  product_code Int // 产品的OID唯一标识符
  game_type String // 无缝游戏中的游戏类型
  product_name String // 提供商的产品名称

  games game[] // 供应商对应的游戏
  product_extra game_product_extra[] 
  product_types game_type @relation(fields: [game_type],references: [type])


  @@unique([product_code, product_id])
}

model game_product_extra{
  id Int @id @default(autoincrement())
  provider_id Int @unique

  game_product game_product @relation(fields: [provider_id],references: [provider_id])
}

model game {
  game_code String @id // 遊戲代碼，用於啟動遊戲
  game_name String // 遊戲名稱
  game_type String  // 遊戲類別
  product_id Int 
  product_code Int // 每個提供者產品的 ID，請參閱產品代碼
  status Int /* 目前遊戲狀態 停用：遊戲已停用。無法啟動 已啟動：遊戲可以啟動 維護：遊戲正在維護中 */
  support_currency String // 支援幣種，與營運商與GSC+簽署的幣種相關
  allow_free_round Int // 是否支持人工免費旋轉
  lang_name String // 顯示各國語言遊戲名稱(預設顯示英文語系
  lang_icon String // 顯示各國語言遊戲入口圖片URL(預設顯示英文圖片

  type game_type @relation(fields: [game_type],references: [type])
  product game_product @relation(fields: [product_code,product_id],references: [product_code,product_id])

  game_extras game_extra[] //引入外部的拓展
}

model game_extra {
  id Int @id @default(autoincrement())
  game_code String @unique
  game_type String 

  game game @relation(fields: [game_code],references: [game_code])
}